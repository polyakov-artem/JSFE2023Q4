(()=>{var e={80:(e,t,r)=>{"use strict";r.r(t)},26:(e,t,r)=>{"use strict";r.r(t)},897:function(e,t,r){e.exports=function(){"use strict";var e=function(e){var t=e.id,r=e.viewBox,a=e.content;this.id=t,this.viewBox=r,this.content=a};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};function t(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var a=t((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,a){return a&&!0===a.clone&&e(r)?s(t(r),r,a):r}function a(t,a,n){var o=t.slice();return a.forEach((function(a,i){void 0===o[i]?o[i]=r(a,n):e(a)?o[i]=s(t[i],a,n):-1===t.indexOf(a)&&o.push(r(a,n))})),o}function n(t,a,n){var o={};return e(t)&&Object.keys(t).forEach((function(e){o[e]=r(t[e],n)})),Object.keys(a).forEach((function(i){e(a[i])&&t[i]?o[i]=s(t[i],a[i],n):o[i]=r(a[i],n)})),o}function s(e,t,s){var o=Array.isArray(t),i=(s||{arrayMerge:a}).arrayMerge||a;return o?Array.isArray(e)?i(e,t,s):r(t,s):n(e,t,s)}return s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,r){return s(e,r,t)}))},s}()})),n=t((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),s=n.svg,o=n.xlink,i={};i[s.name]=s.uri,i[o.name]=o.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(a(i,t||{}))+">"+e+"</svg>"},l=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(e);return l}()},809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(897),n=r.n(a),s=r(42),o=r.n(s),i=new(n())({id:"car",use:"car-usage",viewBox:"0 0 1306 395",content:'<symbol viewBox="0 0 1306 395" fill="none" xmlns="http://www.w3.org/2000/svg" id="car">\n  <path d="M561.258 10.7206L561.152 10.734L561.047 10.7451C559.948 10.8607 556.365 11.2871 551.295 11.8904C544.93 12.6478 536.222 13.684 527.149 14.7338L527.136 14.7353L527.123 14.7368C488.191 19.1366 435.989 26.6897 420.818 30.0324L420.792 30.0382L420.766 30.0437C381.88 38.3952 292.261 68.2652 204.283 102.39C181.703 111.156 158.094 119.722 152.142 121.464L152.034 121.496L151.925 121.525C145.723 123.189 130.075 125.785 117.165 127.265C79.2802 131.802 30.5112 139.713 16.6312 143.61L15.2318 144.022L13.781 149.298C13.7801 149.301 13.7792 149.304 13.7784 149.307C12.332 154.614 10.8423 162.662 10.3477 166.766C10.0422 170.236 10.1025 171.406 10.3015 172.435C10.5452 173.696 11.125 175.373 13.014 179.693C16.9112 188.431 18.2968 194.784 19.2953 206.195L19.2954 206.197C20.0002 214.27 20.8901 219.743 22.397 224.89C23.9109 230.06 26.1626 235.295 29.98 242.8L29.9857 242.811C34.2172 251.157 37.2697 255.269 45.6524 263.777C50.8943 269.087 53.3836 271.398 55.3207 272.766C56.8317 273.834 58.1267 274.428 61.608 275.509C65.5054 276.695 76.9868 278.745 87.1609 279.934C97.4628 281.138 118.29 283.675 133.363 285.543L133.371 285.544L133.379 285.545C149.782 287.604 157.299 288.271 161.676 287.806C163.448 287.618 164.118 287.282 164.493 287.058C165.039 286.73 165.823 286.1 167.455 284.294C168.075 283.575 169.499 281.449 171.619 277.353C173.657 273.417 176.041 268.249 178.636 262.021L178.64 262.01L178.645 261.999C184.672 247.627 188.753 238.463 192.79 231.63C197.073 224.38 201.226 219.881 206.897 214.568L206.919 214.548L206.941 214.528C220.868 201.638 239.278 192.495 257.573 189.223L257.594 189.219L257.616 189.215C265.875 187.776 278.499 187.365 290.357 187.67C302.126 187.973 314.536 189.014 322.275 190.961C360.095 200.208 390.108 235.242 401.027 278.875C404.863 293.829 408.414 300.361 413.119 304.978C413.124 304.982 413.128 304.987 413.133 304.991L414.8 306.61L467.245 307.602C467.247 307.602 467.25 307.602 467.252 307.602C519.497 308.535 733.058 311.467 901.186 313.467L901.196 313.467L969.478 314.348L970.516 313.343L970.537 313.323L970.558 313.303C974.684 309.361 977.796 304.327 983.602 287.305L983.608 287.288L983.614 287.272C991.606 264.108 996.995 252.158 1005.65 239.029L1005.67 239.008L1005.68 238.986C1016.7 222.454 1031.06 209.476 1047.98 201.165C1055.52 197.428 1062.18 194.901 1070.01 193.369C1077.68 191.87 1086.1 191.401 1097 191.334L1097.04 191.333H1097.07C1140.19 191.333 1167.79 200.183 1191.74 224.129C1204.55 236.944 1211.98 251.474 1219.42 275.715C1222.65 286.061 1225.17 292.263 1227.39 296.002C1229.42 299.412 1230.6 299.766 1231.01 299.889L1231.02 299.893L1231.07 299.907L1231.12 299.922C1232.69 300.413 1233.37 300.479 1233.83 300.484C1234.36 300.489 1235.25 300.412 1237.26 299.91C1244.08 298.126 1255.03 292.525 1266.05 285.143C1277.07 277.759 1286.48 269.715 1290.8 263.999C1292.76 261.359 1293.69 259.813 1294.21 258.649C1294.66 257.66 1294.94 256.672 1295.12 255.005C1295.18 254.291 1295.21 253.806 1295.21 253.456C1295.21 253.384 1295.21 253.322 1295.21 253.269C1294.97 252.961 1294.43 252.358 1293.28 251.336C1291.86 250.071 1289.89 248.493 1287.07 246.299L1287.05 246.285L1287.03 246.271C1286.94 246.199 1286.82 246.107 1286.68 245.997C1285.85 245.363 1284.25 244.139 1283.16 242.982C1282.33 242.1 1281.17 240.657 1280.43 238.609C1279.63 236.401 1279.57 234.206 1279.95 232.247C1280.56 229.128 1282.36 226.567 1283.25 225.304L1283.26 225.296C1284.14 224.048 1285.32 222.498 1286.65 220.759C1287 220.29 1287.37 219.808 1287.75 219.314C1292.68 212.677 1296 201.993 1296 187.333C1296 183.227 1295.84 179.861 1295.57 177.294C1295.44 176.014 1295.28 175.015 1295.13 174.273C1295.01 173.659 1294.91 173.351 1294.88 173.27C1294.5 172.441 1292.75 169.897 1284 166.324C1275.3 162.77 1261.78 159.018 1241.16 154.428L1241.13 154.422L1241.11 154.416C1220.65 149.747 1203.93 144.517 1165.83 130.882L1165.83 130.881C1157.39 127.86 1146.22 124.996 1139.19 124.043L1139.12 124.033L1139.05 124.023C1120.21 121.203 1064.31 118.538 966.128 115.863L966.118 115.863L939.689 115.117C939.204 116.199 938.732 117.499 938.388 118.685C938.21 119.297 938.094 119.787 938.028 120.124C938.013 120.202 938.003 120.263 937.996 120.306C937.96 121.953 937.851 124.509 937.01 126.996C935.93 130.186 933.717 133.105 930.136 134.828C927.252 136.215 924.24 136.429 922.144 136.467C919.873 136.508 917.223 136.334 914.379 136.1L914.337 136.096L914.295 136.092C908.165 135.535 897.551 134.172 890.479 133.084L890.471 133.082C884.889 132.219 880.548 131.434 876.433 129.913C872.213 128.354 868.703 126.198 864.484 123.408L864.478 123.403L864.471 123.399C849.902 113.732 808.867 83.683 772.611 56.091L772.603 56.0852C747.171 36.6926 733.22 26.3707 723.329 20.4989C714.139 15.0436 708.924 13.6901 700.665 12.5771L700.634 12.573L700.604 12.5687C698.729 12.3044 689.926 11.9312 676.498 11.5842C663.493 11.2481 647 10.9488 630.519 10.7325C614.037 10.5162 597.603 10.3833 584.716 10.3792C578.267 10.3771 572.74 10.4073 568.553 10.4743C566.456 10.5078 564.734 10.55 563.42 10.5999C562.763 10.6249 562.239 10.6506 561.841 10.6758C561.456 10.7 561.284 10.7179 561.26 10.7204L561.258 10.7206ZM663.551 15.3725L663.563 15.3736C690.808 17.8257 707.946 22.735 721.228 34.705L721.233 34.7098L721.239 34.7146C729.929 42.569 733.956 49.8439 742.281 69.5805L742.286 69.5921L742.29 69.6038L748.824 85.2037L754.254 98.1703L740.224 99.0472L731.69 99.5805L731.678 99.5813C729.011 99.7446 727.679 99.9531 726.991 100.12C726.831 101.867 726.809 105.106 726.932 111.955L726.933 112.044V112.133C726.933 116.348 727.062 120.539 727.236 123.839C727.323 125.492 727.42 126.869 727.511 127.883C727.579 128.628 727.627 128.968 727.633 129.034L728.368 131.975L731.41 144.142L718.871 144.398L673.142 145.331C673.14 145.331 673.139 145.331 673.137 145.331C641.005 146.001 598.498 146.067 563.246 145.699C545.619 145.516 529.751 145.223 517.868 144.841C511.937 144.65 506.927 144.434 503.16 144.194C501.286 144.074 499.628 143.942 498.278 143.794C497.331 143.69 495.568 143.49 494.016 142.99C484.523 139.992 476.008 132.414 472.038 123.342L472.029 123.32L472.019 123.298C470.283 119.277 468.062 110.284 466.04 100.867C463.92 90.999 461.747 79.3274 460.244 69.083C459.106 61.6195 458.26 54.3605 460.327 48.2466C462.821 40.8718 468.594 37.2594 473.757 34.6744C487.587 27.6233 515.464 20.7713 552.927 14.1525L552.94 14.1502L552.953 14.1479C556.238 13.5767 563.703 13.3547 572.133 13.2528C581.036 13.1453 592.222 13.1751 603.79 13.3175C626.789 13.6003 651.851 14.3341 663.551 15.3725Z" fill="currentColor" stroke="white" stroke-width="20" />\n  <path d="M260.114 218.877L260.09 218.885L260.066 218.893C237.801 226.063 220.425 241.254 209.531 262.652C197.74 286.247 198.092 317.881 210.701 342.09L210.706 342.099L210.71 342.107C213.594 347.695 218.957 354.59 225.271 361.034C231.569 367.461 238.457 373.076 244.171 376.301C252.232 380.757 257.29 383.02 263.304 384.232C269.479 385.476 276.929 385.668 289.897 385.401L289.904 385.401L289.912 385.401L311.487 385.02L320.49 380.699C320.492 380.698 320.495 380.696 320.497 380.695C343.69 369.479 361.96 349.282 368.693 327.845C372.288 316.317 373.218 295.963 370.559 282.288L370.555 282.269L370.551 282.25C368.958 273.711 366.708 266.982 363.245 260.743C359.768 254.478 354.946 248.485 347.948 241.552L347.944 241.548C329.85 223.582 312.49 215.882 288.485 214.997C281.35 214.737 274.537 214.879 272.862 215.064C271.054 215.48 265.489 217.085 260.114 218.877ZM303 238.496L303.01 238.499C321.021 243.254 335.409 254.705 343.672 271.231L343.676 271.238L343.679 271.244C348.134 280.223 350.719 288.283 351.111 296.769C351.503 305.244 349.688 313.716 346.014 323.492C326.338 375.865 254 379.32 229.261 329.169L229.248 329.143C226.793 324.298 225.176 321.107 224.39 317.009C223.666 313.237 223.666 308.767 223.667 301.463C223.667 301.244 223.667 301.023 223.667 300.8C223.667 293.27 223.718 288.661 224.373 284.866C225.067 280.845 226.415 277.859 228.406 273.611L228.411 273.6L228.417 273.589C241.963 245.054 272.637 230.544 303 238.496Z" fill="white" stroke="white" stroke-width="10" />\n  <path d="M1040.22 244.051L1040.21 244.056C1031.15 253.185 1025.5 260.599 1021.92 268.473C1018.34 276.322 1016.64 284.998 1016.06 296.911L1016.06 296.911C1015.17 315.152 1017.4 325.893 1025.13 341.355C1032.11 355.172 1041.54 365.936 1053.13 373.542C1071.29 385.261 1088.22 390.379 1104.3 389.28C1115.74 388.386 1133.87 383.603 1143.2 378.875C1149.68 375.578 1158.2 368.055 1166.03 358.957C1173.82 349.889 1180.34 339.943 1183.18 332.265L1183.18 332.254L1183.19 332.244C1185.72 325.491 1187.17 316.141 1187.32 306.177C1187.46 296.246 1186.3 286.094 1183.87 277.807L1183.87 277.804C1179.34 262.328 1169.22 246.798 1157.22 236.927L1157.21 236.92L1157.21 236.913C1141.71 224.045 1126.06 218.564 1099.8 217.529L1099.79 217.529L1099.78 217.529C1092.11 217.192 1088.11 217.117 1085.05 217.425C1082.19 217.712 1080.06 218.34 1076.1 219.769C1062.95 224.527 1052.76 231.382 1040.22 244.051ZM1116.87 239.798L1116.88 239.801L1116.89 239.803C1123.03 241.267 1127.98 242.971 1132.65 245.617C1137.31 248.256 1141.43 251.694 1146.07 256.331L1146.09 256.347L1146.1 256.364C1161.39 271.933 1169.1 292.523 1166.14 311.439L1166.14 311.444C1161.22 342.72 1133.22 366.333 1101.33 366.333H1101.32L1101.31 366.333C1075.87 366.19 1055.6 353.836 1044.33 331.448L1044.33 331.436C1042.1 326.971 1040.59 323.857 1039.81 320.155C1039.05 316.559 1039 312.6 1039 306.533C1039 289.782 1040.8 280.231 1046.64 269.138L1046.65 269.132C1053.73 255.718 1069.61 244.633 1087.08 239.845L1087.1 239.839L1087.12 239.833C1097.07 237.199 1105.91 237.235 1116.87 239.798Z" fill="white" stroke="white" stroke-width="10" />\n</symbol>'});o().add(i);const c=i},42:function(e,t,r){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var t=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,a){return a&&!0===a.clone&&e(r)?s(t(r),r,a):r}function a(t,a,n){var o=t.slice();return a.forEach((function(a,i){void 0===o[i]?o[i]=r(a,n):e(a)?o[i]=s(t[i],a,n):-1===t.indexOf(a)&&o.push(r(a,n))})),o}function n(t,a,n){var o={};return e(t)&&Object.keys(t).forEach((function(e){o[e]=r(t[e],n)})),Object.keys(a).forEach((function(i){e(a[i])&&t[i]?o[i]=s(t[i],a[i],n):o[i]=r(a[i],n)})),o}function s(e,t,s){var o=Array.isArray(t),i=(s||{arrayMerge:a}).arrayMerge||a;return o?Array.isArray(e)?i(e,t,s):r(t,s):n(e,t,s)}return s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,r){return s(e,r,t)}))},s}()}));var a=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),n=a.svg,s=a.xlink,o={};o[n.name]=n.uri,o[s.name]=s.uri;var i,c=function(e,r){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(t(o,r||{}))+">"+e+"</svg>"},l=a.svg,d=a.xlink,u={attrs:(i={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},i[l.name]=l.uri,i[d.name]=d.uri,i)},p=function(e){this.config=t(u,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,r=this.find(e.id);return r?(t[t.indexOf(r)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,r=this.find(e);return!!r&&(t.splice(t.indexOf(r),1),r.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var m=function(e){var t=e.id,r=e.viewBox,a=e.content;this.id=t,this.viewBox=r,this.content=a};m.prototype.stringify=function(){return this.content},m.prototype.toString=function(){return this.stringify()},m.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var h=function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r},C=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},t.prototype.render=function(){var e=this.stringify();return h(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(m),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},b=function(e){return Array.prototype.slice.call(e,0)},y=function(){return/firefox/i.test(navigator.userAgent)},f=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},v=function(){return/edge/i.test(navigator.userAgent)},w=function(e){return(e||window.location.href).split("#")[0]},S=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,r,a){var n,s,o;n=e,s={oldUrl:a,newUrl:r},(o=document.createEvent("CustomEvent")).initCustomEvent(n,!1,!1,s),window.dispatchEvent(o)}))}])},E=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern, mask, clipPath"),b(e.querySelectorAll("symbol")).forEach((function(e){b(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};var L=a.xlink.uri,N="xlink:href",_=/[{}|\\\^\[\]`"<>]/g;function A(e){return e.replace(_,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var T,D=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],M=D.map((function(e){return"["+e+"]"})).join(","),x=function(e,t,r,a){var n,s,o=A(r),i=A(a);(n=e.querySelectorAll(M),s=function(e){var t=e.localName,r=e.value;return-1!==D.indexOf(t)&&-1!==r.indexOf("url("+o)},b(n).reduce((function(e,t){if(!t.attributes)return e;var r=b(t.attributes),a=s?r.filter(s):r;return e.concat(a)}),[])).forEach((function(e){return e.value=e.value.replace(new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i)})),function(e,t,r){b(e).forEach((function(e){var a=e.getAttribute(N);if(a&&0===a.indexOf(t)){var n=a.replace(t,r);e.setAttributeNS(L,N,n)}}))}(t,o,i)},P="mount",I="symbol_mount",B=function(e){function r(r){var a=this;void 0===r&&(r={}),e.call(this,t(g,r));var n,s=(n=n||Object.create(null),{on:function(e,t){(n[e]||(n[e]=[])).push(t)},off:function(e,t){n[e]&&n[e].splice(n[e].indexOf(t)>>>0,1)},emit:function(e,t){(n[e]||[]).map((function(e){e(t)})),(n["*"]||[]).map((function(r){r(e,t)}))}});this._emitter=s,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(r),o.syncUrlsWithBaseTag){var i=document.getElementsByTagName("base")[0].getAttribute("href");s.on(P,(function(){return a.updateUrls("#",i)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,c),o.locationChangeAngularEmitter&&S(o.locationChangeEvent),s.on(P,(function(e){o.moveGradientsOutsideSymbol&&E(e)})),s.on(I,(function(e){var t;o.moveGradientsOutsideSymbol&&E(e.parentNode),(f()||v())&&(t=[],b(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var a={isMounted:{}};return a.isMounted.get=function(){return!!this.node},r.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=y())},r.prototype._handleLocationChange=function(e){var t=e.detail,r=t.oldUrl,a=t.newUrl;this.updateUrls(r,a)},r.prototype.add=function(t){var r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(this.node),this._emitter.emit(I,t.node)),r},r.prototype.attach=function(e){var t=this,r=this;if(r.isMounted)return r.node;var a="string"==typeof e?document.querySelector(e):e;return r.node=a,this.symbols.forEach((function(e){e.mount(r.node),t._emitter.emit(I,e.node)})),b(a.querySelectorAll("symbol")).forEach((function(e){var t=C.createFromExistingNode(e);t.node=e,r.add(t)})),this._emitter.emit(P,a),a},r.prototype.destroy=function(){var e=this,t=e.config,r=e.symbols,a=e._emitter;r.forEach((function(e){return e.destroy()})),a.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},r.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var r=this;if(r.isMounted)return r.node;var a="string"==typeof e?document.querySelector(e):e,n=r.render();return this.node=n,t&&a.childNodes[0]?a.insertBefore(n,a.childNodes[0]):a.appendChild(n),this._emitter.emit(P,n),n},r.prototype.render=function(){return h(this.stringify())},r.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},r.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var r=document.querySelectorAll(this.config.usagesToUpdate);return x(this.node,r,w(e)+"#",w(t)+"#"),!0},Object.defineProperties(r.prototype,a),r}(p),O=e((function(e){var t;t=function(){var e,t=[],r=document,a=r.documentElement.doScroll,n="DOMContentLoaded",s=(a?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState);return s||r.addEventListener(n,e=function(){for(r.removeEventListener(n,e),s=1;e=t.shift();)e()}),function(e){s?setTimeout(e,0):t.push(e)}},e.exports=t()})),R="__SVG_SPRITE_NODE__",k="__SVG_SPRITE__";window[k]?T=window[k]:(T=new B({attrs:{id:R,"aria-hidden":"true"}}),window[k]=T);var W=function(){var e=document.getElementById(R);e?T.attach(e):T.mount(document.body,!0)};return document.body?W():O(W),T}()},411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.carManufacturers=t.carPostfixes=t.order=t.sort=t.svgIds=t.customEvents=t.DISTANCE=t.TOTAL_COUNT_HEADER_KEY=t.WINNERS_PAGE_LIMIT=t.CARS_PAGE_LIMIT=t.engineStates=t.endpoints=t.HTTPStatusCodes=t.HTTPMethods=t.attributeKeys=t.classSelectors=t.classes=void 0,t.classes={btn:"btn",btnAddCar:"btn-add-car",btnUpdateCar:"btn-update-car",btnDeleteCar:"btn-delete-car",btnGenerateCars:"btn-generate-cars",btnPrimary:"btn-primary",btnPrimarySmall:"btn-primary_small",btnResetRaces:"btn-reset-races",btnReturnCar:"btn-return-car",btnSelectCar:"btn-select-car",btnStartCar:"btn-start-car",btnStartRaces:"btn-start-races",car:"car",carSelected:"car_selected",carOnRace:"car_on-race",carStopped:"car_stopped",carControls:"car__controls",carDistance:"car__distance",iconCar:"icon-car",carIcon:"car__icon",carInner:"car__inner",carManage:"car__manage",carName:"car__name",cars:"cars",carTrack:"car__track",colorSelector:"color-selector",container:"container",game:"game",gameInner:"game__inner",garage:"garage",garageInner:"garage__inner",addCarField:"add-car-field",updateCarField:"update-car-field",garageControls:"garage__controls",garageMainControls:"garage__main-controls",garageTitle:"garage__title",garageCars:"garage__cars",garagePageNumber:"garage__page-number",h3:"h3",h4:"h4",h5:"h5",input:"input",optionsSelector:"options-selector",page:"page",results:"results",resultsCell:"results__cell",resultsHeader:"results__header",resultsImgCell:"results__img-cell",tabBtn:"tab-btn",tabBtnActive:"tab-btn_active",tabs:"tabs",tabsContent:"tabs__content",tabsControls:"tabs__controls",tabsTab:"tabs__tab",tabsTabActive:"tabs__tab_active",modalWindow:"modal-window",modalWindowActive:"modal-window_active",modalWindowText:"modal-window__text",winners:"winners",winnersInner:"winners__inner",winnersCarIcon:"winners__car-icon",winnersTitle:"winners__title",winnersPageNumber:"winners__page-number",winnersTable:"winners__table",winnersTableHeader:"winners__table-header",winnersCell:"winners__cell",winnersTableBody:"winners__table-body",winnersSortBtn:"winners__sort-btn",btnSortBy:"btn-sort-by",pagination:"pagination",paginationNextBtn:"pagination__next-btn",paginationPrevBtn:"pagination__prev-btn"},t.classSelectors={},Object.entries(t.classes).forEach((e=>{t.classSelectors[e[0]]="."+e[1]})),t.attributeKeys={tabBtn:"data-target-tab",tab:"data-tab",carId:"data-car-id",carColor:"data-car-color",carName:"data-car-name",sortBy:"data-sortby",orderBy:"data-orderby"},t.HTTPMethods={get:"GET",head:"HEAD",post:"POST",put:"PUT",patch:"PATCH",delete:"DELETE",connect:"CONNECT",optrions:"OPTIONS",trace:"TRACE"},t.HTTPStatusCodes={ok:200,created:201,badRequest:400,notFound:404,tooManyRequests:429,internalServerError:500},t.endpoints={garage:"/garage",engine:"/engine",winners:"/winners"},t.engineStates={started:"started",stopped:"stopped",driveMode:"drive"},t.CARS_PAGE_LIMIT=7,t.WINNERS_PAGE_LIMIT=10,t.TOTAL_COUNT_HEADER_KEY="X-Total-Count",t.DISTANCE=5e5,t.customEvents={winnersUpdate:"winnersUpdate",currentCarsUpdate:"currentCarsUpdate",newWinner:"newWinner",raceStopped:"raceStopped",carStarted:"carStarted",carMoving:"carMoving",carStopped:"carStopped",carReturn:"carReturn"},t.svgIds={car:"car"},t.sort={wins:"wins",time:"time"},t.order={asc:"ASC",desc:"DESC"},t.carPostfixes=["Essence","Quicksilver","Freedom","Aurora","Harmony","Magic","Legend","Patron","Excursion","Sliver","Might","Blend","Eminence","Zeal","Encounter","Empyrean","Reach","Purity","Hero","Legacy","Ivory","Orbit","Guardian","Paragon","Desire","Origin","Pyre","Capital","Supremacy","Tempest","Silver","Warrior","Ranger","Storm","Centurion","Oracle","Dusk","Universe","Motion"],t.carManufacturers=["Abarth","Alfa Romeo","Aston Martin","Audi","Bentley","BMW","Bugatti","Cadillac","Chevrolet","Chrysler","Citroën","Dacia","Daewoo","Daihatsu","Dodge","Donkervoort","DS","Ferrari","Fiat","Fisker","Ford","Honda","Hummer","Hyundai","Infiniti","Iveco","Jaguar","Jeep","Kia","KTM","Lada","Lamborghini","Lancia","Land Rover","Landwind","Lexus","Lotus","Maserati","Maybach","Mazda","McLaren","Mercedes-Benz","MG","Mini","Mitsubishi","Morgan","Nissan","Opel","Peugeot","Porsche","Renault","Rolls-Royce","Rover","Saab","Seat","Skoda","Smart","SsangYong","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo"]},543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importAll=void 0,t.importAll=function(e){e.keys().forEach(e)}},876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(543).importAll)(r(689))},207:(e,t,r)=>{"use strict";t.A$=void 0;const a=r(673),n=r(609);t.A$=new class{constructor(){this.garageController=a.garageController,this.winnersController=n.winnersController}}},358:(e,t)=>{"use strict";t.u1=t.Dd=t.w3=t.uN=t.Gv=t.G0=void 0,t.G0=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,t.Gv=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),t.uN=()=>{const e=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];let t="#";for(let r=0;r<6;r++)t+=e[Math.floor(Math.random()*e.length)];return t},t.w3=(e,t)=>{document.dispatchEvent(new CustomEvent(e,{detail:t}))},t.Dd=e=>{e.setAttribute("disabled","true")},t.u1=e=>{e.removeAttribute("disabled")}},518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDomElement=void 0,t.createDomElement=({tag:e="div",classNames:t,text:r,attr:a})=>{const n=document.createElement(e);if(t&&Array.isArray(t)&&(n.className=t.join(" ")),r&&(n.textContent=r),a)for(const e in a)n.setAttribute(e,a[e]);return n}},972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.primaryBtn=void 0;const a=r(411),n=r(518);t.primaryBtn=({text:e="",classNames:t,isSmall:r=!1,disabled:s=!1,attr:o={}})=>{let i=[a.classes.btn,a.classes.btnPrimary];r&&i.push(a.classes.btnPrimarySmall),t&&(i=i.concat(t));const c={tag:"button",text:e,classNames:i,attr:o};return s&&(c.attr={disabled:"true"}),(0,n.createDomElement)(c)}},894:(e,t,r)=>{"use strict";t.t=void 0;const a=r(411),n=r(518),s=r(972);t.t=class{constructor(e){var t;this.activeTabIndex=null!==(t=e.activeTabIndex)&&void 0!==t?t:0,this.tabsNames=e.tabsNames,this.buttonsText=e.buttonsText,this.tabsContent=e.tabsContent,this.createNode(),this.addListeners()}getNode(){return this.node}createNode(){const e=(0,n.createDomElement)({classNames:[a.classes.tabs]}),t=(0,n.createDomElement)({classNames:[a.classes.tabsControls]}),r=(0,n.createDomElement)({classNames:[a.classes.tabsContent]});e.append(t,r),this.tabsNames.forEach(((e,o)=>{const i=o===this.activeTabIndex,c=this.buttonsText[o],l=i?[a.classes.tabBtn,a.classes.tabBtnActive]:[a.classes.tabBtn],d=i?[a.classes.tabsTab,a.classes.tabsTabActive]:[a.classes.tabsTab],u=(0,s.primaryBtn)({classNames:l,text:c,attr:{[a.attributeKeys.tabBtn]:e}}),p=(0,n.createDomElement)({classNames:d,attr:{[a.attributeKeys.tab]:e}});t.append(u),r.append(p),p.append(this.tabsContent[o])})),this.node=e}addListeners(){this.node.addEventListener("click",(e=>{this.clickHandler(e)}))}clickHandler(e){if(!e.target)return;const t=e.target.closest(a.classSelectors.tabBtn);if(!t)return;if(t.classList.contains(a.classes.tabBtnActive))return;const r=t.getAttribute(a.attributeKeys.tabBtn),n=this.node.querySelector(`[${a.attributeKeys.tab}="${r}"]`),s=this.node.querySelector(a.classSelectors.tabsTabActive);this.node.querySelector(a.classSelectors.tabBtnActive).classList.remove(a.classes.tabBtnActive),t.classList.add(a.classes.tabBtnActive),s.classList.remove(a.classes.tabsTabActive),n.classList.add(a.classes.tabsTabActive)}}},689:(e,t,r)=>{var a={"./car.svg":809};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=689},153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{App:()=>f});var a=r(207),n=r(411),s=r(358);const o=new class{constructor(){this.carsTotal=0,this.winnersTotal=0,this.currentWinners=[],this.currentCars=[],this.carsPageNumber=1,this.winnersPageNumber=1,this.sortWinnersBy=n.sort.time,this.orderWinnersBy=n.order.asc,this.btnSortByTimeOrder=n.order.asc,this.btnSortByWinsOrder=n.order.asc}setCarsTotal(e){this.carsTotal=e}setCurrentCars(e){this.currentCars=e,(0,s.w3)(n.customEvents.currentCarsUpdate)}setCarsPageNumber(e){this.carsPageNumber=e}setWinnersTotal(e){this.winnersTotal=e}setCurrentWinners(e){this.currentWinners=e,(0,s.w3)(n.customEvents.winnersUpdate)}setWinnersPageNumber(e){this.winnersPageNumber=e}setSorting(e,t){switch(this.sortWinnersBy=e,this.orderWinnersBy=t,e){case n.sort.time:this.btnSortByTimeOrder=t;break;case n.sort.wins:this.btnSortByWinsOrder=t}}};var i=r(518),c=r(972);const l=({classNames:e,id:t})=>{const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList=e.join(" ");const a=document.createElementNS("http://www.w3.org/2000/svg","use");return a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#${t}`),r.appendChild(a),r},d=()=>{const e=(0,i.createDomElement)({classNames:[n.classes.pagination]}),t=(0,c.primaryBtn)({text:"Next",classNames:[n.classes.paginationNextBtn]}),r=(0,c.primaryBtn)({text:"Previous",classNames:[n.classes.paginationPrevBtn]});return e.append(r,t),e},u=new class{constructor(){this.createNode(),this.addListeners()}getNode(){return this.node}createNode(){this.node=(0,i.createDomElement)({classNames:[n.classes.garage]});const e=(()=>{const e=(0,i.createDomElement)({classNames:[n.classes.garageControls]});return e.append((()=>{const e=(0,i.createDomElement)({classNames:[n.classes.optionsSelector,n.classes.addCarField]}),t=(0,i.createDomElement)({tag:"input",classNames:[n.classes.input],attr:{type:"text"}}),r=(0,i.createDomElement)({tag:"input",classNames:[n.classes.colorSelector],attr:{type:"color",value:"#adbe4d"}}),a=(0,c.primaryBtn)({text:"Create",classNames:[n.classes.btnAddCar]});return e.append(t,r,a),e})(),(()=>{const e=(0,i.createDomElement)({classNames:[n.classes.optionsSelector,n.classes.updateCarField]}),t=(0,i.createDomElement)({tag:"input",classNames:[n.classes.input],attr:{type:"text",disabled:!0}}),r=(0,i.createDomElement)({tag:"input",classNames:[n.classes.colorSelector],attr:{type:"color",disabled:!0,value:"#adbe4d"}}),a=(0,c.primaryBtn)({text:"Update",disabled:!0,classNames:[n.classes.btnUpdateCar]});return e.append(t,r,a),e})()),e})(),t=(()=>{const e=(0,i.createDomElement)({classNames:[n.classes.garageMainControls]}),t=(0,c.primaryBtn)({text:"Race",classNames:[n.classes.btnStartRaces]}),r=(0,c.primaryBtn)({text:"Reset",classNames:[n.classes.btnResetRaces]}),a=(0,c.primaryBtn)({text:"Generate cars",classNames:[n.classes.btnGenerateCars]});return e.append(t,r,a),e})(),r=(0,i.createDomElement)({classNames:[n.classes.garageInner]});this.node.append(e,t,r),this.btnStartRaces=t.querySelector(n.classSelectors.btnStartRaces),this.addCarField=e.querySelector(n.classSelectors.addCarField),this.addCarInput=this.addCarField.querySelector(n.classSelectors.input),this.addCarColorInput=this.addCarField.querySelector(n.classSelectors.colorSelector),this.updateCarField=e.querySelector(n.classSelectors.updateCarField),this.updateCarInput=this.updateCarField.querySelector(n.classSelectors.input),this.updateCarColorInput=this.updateCarField.querySelector(n.classSelectors.colorSelector),this.updateCarBtn=this.updateCarField.querySelector(n.classSelectors.btn)}async updateNode(){const e=await(async()=>{const e=(0,i.createDomElement)({classNames:[n.classes.garageInner]}),t=(0,i.createDomElement)({tag:"h2",text:`Garage (${f.appModel.carsTotal})`,classNames:[n.classes.h3,n.classes.garageTitle]}),r=(0,i.createDomElement)({tag:"h3",text:`Page ${f.appModel.carsPageNumber}`,classNames:[n.classes.h4,n.classes.garagePageNumber]}),a=await(async()=>{const e=(0,i.createDomElement)({classNames:[n.classes.cars,n.classes.garageCars]}),t=f.appModel.currentCars;return(await Promise.all(t.map((e=>f.appController.garageController.getCar(e.id))))).forEach((t=>{const r=((e,t,r)=>{const a=(0,i.createDomElement)({classNames:[n.classes.car],attr:{[n.attributeKeys.carId]:e,[n.attributeKeys.carColor]:t,[n.attributeKeys.carName]:r}}),s=(0,i.createDomElement)({classNames:[n.classes.carInner]}),o=(0,i.createDomElement)({classNames:[n.classes.carManage]}),d=(0,c.primaryBtn)({isSmall:!0,text:"Select",classNames:[n.classes.btnSelectCar]}),u=(0,c.primaryBtn)({isSmall:!0,text:"Delete",classNames:[n.classes.btnDeleteCar]}),p=(0,i.createDomElement)({tag:"p",text:r,classNames:[n.classes.carName]}),m=(0,i.createDomElement)({classNames:[n.classes.carControls]}),h=(0,c.primaryBtn)({isSmall:!0,text:"Start",classNames:[n.classes.btnStartCar]}),C=(0,c.primaryBtn)({isSmall:!0,text:"Return",disabled:!0,classNames:[n.classes.btnReturnCar]}),g=(0,i.createDomElement)({classNames:[n.classes.carTrack]}),b=(0,i.createDomElement)({classNames:[n.classes.carDistance]}),y=(0,i.createDomElement)({classNames:[n.classes.carIcon]}),f=l({classNames:[n.classes.iconCar],id:n.svgIds.car});return f.setAttribute("style",`color: ${t}`),a.append(s,p,g),s.append(o,m),o.append(d,u),m.append(h,C),g.append(b),b.append(y),y.append(f),a})(t.id,t.color,t.name);e.append(r)})),e})(),s=d();return e.append(t,r,a,s),e})();this.node.querySelector(n.classSelectors.garageInner).replaceWith(e)}addListeners(){this.node.addEventListener("click",(e=>{this.clickHandler(e)})),this.updateCarColorInput.addEventListener("input",(e=>{this.updateCarColorHandler(e)})),document.addEventListener(n.customEvents.carStarted,(e=>{this.carStartedHandler(e)})),document.addEventListener(n.customEvents.carMoving,(e=>{this.carMovingHandler(e)})),document.addEventListener(n.customEvents.carStopped,(e=>{this.carStoppedHandler(e)})),document.addEventListener(n.customEvents.carReturn,(e=>{this.carReturnHandler(e)})),document.addEventListener(n.customEvents.newWinner,(e=>{this.showModal(e)})),document.addEventListener(n.customEvents.currentCarsUpdate,(()=>{this.updateNode()}))}clickHandler(e){if(null===e)return;if(e.target.closest(n.classSelectors.updateCarField)||(this.revertCarColor(),this.unselectCars(),this.disableUpdateCarField()),e.target.closest(n.classSelectors.btnStartRaces))return void this.startRaces();if(e.target.closest(n.classSelectors.btnResetRaces))return void this.resetRaces();if(e.target.closest(n.classSelectors.btnUpdateCar))return void this.updateCar();if(e.target.closest(n.classSelectors.btnAddCar))return void this.addCar();if(e.target.closest(n.classSelectors.btnGenerateCars))return void this.generateCars();e.target.closest(n.classSelectors.paginationNextBtn)&&this.selectNextPage(),e.target.closest(n.classSelectors.paginationPrevBtn)&&this.selectPrevPage();const t=e.target.closest(`${n.classSelectors.car}`);if(t){const r=t.getAttribute(n.attributeKeys.carId);if(e.target.closest(n.classSelectors.btnStartCar))return void this.startCarRace(r);if(e.target.closest(n.classSelectors.btnReturnCar))return void this.returnCar(r);if(e.target.closest(n.classSelectors.btnSelectCar))return void this.selectCar(r);if(e.target.closest(n.classSelectors.btnDeleteCar))return void this.deleteCar(r)}}updateCarColorHandler(){const e=this.updateCarField.getAttribute(n.attributeKeys.carId),t=this.getCarInfo(e);t&&t?.iconCar?.setAttribute("style",`color: ${this.updateCarColorInput.value}`)}revertCarColor(){const e=this.updateCarField.getAttribute(n.attributeKeys.carId),t=this.updateCarField.getAttribute(n.attributeKeys.carColor),r=this.getCarInfo(e);r&&r.iconCar.setAttribute("style",`color: ${t}`)}selectNextPage(){const e=Math.ceil(f.appModel.carsTotal/n.CARS_PAGE_LIMIT),t=f.appModel.carsPageNumber;t>=e||f.appController.garageController.changePageNumber(t+1)}selectPrevPage(){const e=f.appModel.carsPageNumber;e<=1||f.appController.garageController.changePageNumber(e-1)}showModal(e){const t=e.detail;if(t){const e=`${t.name} has won! Time: ${(t.time/1e3).toFixed(2)} s`;f.appView.modal.setText(e),f.appView.modal.open()}}unselectCars(){this.node.querySelectorAll(n.classSelectors.carSelected).forEach((e=>{e.classList.remove(n.classes.carSelected)}))}enableUpdateCarField(e="",t="#adbe4d",r){(0,s.u1)(this.updateCarInput),(0,s.u1)(this.updateCarColorInput),(0,s.u1)(this.updateCarBtn),this.updateCarInput.value=e,this.updateCarColorInput.value=t,this.updateCarField.setAttribute(n.attributeKeys.carId,r),this.updateCarField.setAttribute(n.attributeKeys.carColor,t)}disableUpdateCarField(){(0,s.Dd)(this.updateCarInput),(0,s.Dd)(this.updateCarColorInput),(0,s.Dd)(this.updateCarBtn),this.updateCarInput.value="",this.updateCarField.removeAttribute(n.attributeKeys.carId),this.updateCarField.removeAttribute(n.attributeKeys.carColor)}async resetRaces(){const e=f.appModel.currentCars.map((e=>e.id)),t=await f.appController.garageController.resetRace(e,!0);return(0,s.u1)(this.btnStartRaces),t}async startRaces(){(0,s.Dd)(this.btnStartRaces);const e=f.appModel.currentCars.map((e=>e.id));f.appController.garageController.startRaces(e)}async generateCars(){f.appController.garageController.generateCars()}async addCar(){const e=this.addCarInput.value,t=this.addCarColorInput.value;this.addCarInput.value="",f.appController.garageController.addCars([{name:e,color:t}])}async updateCar(){const e=this.updateCarInput.value,t=this.updateCarColorInput.value,r=this.updateCarField.getAttribute(n.attributeKeys.carId);this.disableUpdateCarField(),f.appController.garageController.updateCar(r,e,t)}startCarRace(e){(0,s.Dd)(this.btnStartRaces),f.appController.garageController.startRace(e)}returnCar(e){const t=this.getCarInfo(e);t&&((0,s.Dd)(t.btnReturnCar),f.appController.garageController.resetRace([e],!1))}async selectCar(e){const t=this.getCarInfo(e);if(!t)return;const r=t.car.getAttribute(n.attributeKeys.carColor),a=t.car.getAttribute(n.attributeKeys.carName);this.unselectCars(),t.car.classList.add(n.classes.carSelected),this.enableUpdateCarField(a,r,e)}async deleteCar(e){f.appController.garageController.deleteCar(e),f.appController.winnersController.deleteWinner(e)}carStartedHandler(e){const t=this.getCarInfo(e.detail.id);t&&((0,s.Dd)(t.btnStartCar),(0,s.Dd)(t.btnDeleteCar),(0,s.Dd)(t.btnSelectCar),(0,s.Dd)(t.btnReturnCar))}carMovingHandler(e){const t=this.getCarInfo(e.detail.id);t&&(e.detail.isGlobal||(0,s.u1)(t.btnReturnCar),t.car.classList.add(n.classes.carOnRace),t.carIcon.setAttribute("style",`animation-duration: ${e.detail.time}ms`))}carStoppedHandler(e){const t=this.getCarInfo(e.detail.id);t&&t.car.classList.add(n.classes.carStopped)}carReturnHandler(e){const t=this.getCarInfo(e.detail.id);t&&((0,s.Dd)(t.btnReturnCar),(0,s.u1)(t.btnStartCar),(0,s.u1)(t.btnDeleteCar),(0,s.u1)(t.btnSelectCar),t.carIcon.removeAttribute("style"),t.car.classList.remove(n.classes.carOnRace),t.car.classList.remove(n.classes.carStopped))}getCarInfo(e){const t=this.node.querySelector(`${n.classSelectors.cars} [${n.attributeKeys.carId}="${e}"]`);return t?{id:e,car:t,btnSelectCar:t.querySelector(n.classSelectors.btnSelectCar),btnDeleteCar:t.querySelector(n.classSelectors.btnDeleteCar),btnStartCar:t.querySelector(n.classSelectors.btnStartCar),btnReturnCar:t.querySelector(n.classSelectors.btnReturnCar),carIcon:t.querySelector(n.classSelectors.carIcon),iconCar:t.querySelector(n.classSelectors.iconCar)}:null}};class p{text;node;constructor(){this.createNode(),this.addListeners()}static listenersAdded=!1;getNode(){return this.node}createNode(){this.node=(0,i.createDomElement)({classNames:[n.classes.modalWindow]}),this.text=(0,i.createDomElement)({tag:"p",classNames:[n.classes.modalWindowText]}),this.node.append(this.text),document.body.append(this.node)}setText(e){this.text.textContent=e}addListeners(){p.listenersAdded||(document.addEventListener("click",(()=>this.close())),p.listenersAdded=!0)}open(){this.node.classList.add(n.classes.modalWindowActive),this.addLock()}close(){this.node.classList.remove(n.classes.modalWindowActive),this.removeLock()}addLock(){const e=this.getScrollWidth();document.body.style.height="100%",document.body.style.overflow="hidden",e&&(document.body.style.paddingRight=e+"px")}getScrollWidth(){return window.innerWidth-document.body.clientWidth}removeLock(){document.body.style.paddingRight="",document.body.style.height="",document.body.style.overflow=""}}const m=new p;var h=r(894);class C{constructor(e,t=[]){return this.addListeners(),this.createNode(e,t)}static listenersAdded=!1;createNode(e,t){let r;switch(e){case n.sort.time:r=f.appModel.btnSortByTimeOrder;break;case n.sort.wins:r=f.appModel.btnSortByWinsOrder}const a=r===n.order.asc?"↓":"↑";return(0,c.primaryBtn)({classNames:[n.classes.btnSortBy,...t],text:a,attr:{[n.attributeKeys.sortBy]:e,[n.attributeKeys.orderBy]:r}})}addListeners(){C.listenersAdded||(document.addEventListener("click",(e=>{this.clickHandler(e)})),C.listenersAdded=!0)}clickHandler(e){const t=e.target.closest(n.classSelectors.btnSortBy);if(!t)return;const r=t.getAttribute(n.attributeKeys.sortBy);let a;switch(r){case n.sort.time:a=f.appModel.btnSortByTimeOrder;break;case n.sort.wins:a=f.appModel.btnSortByWinsOrder}const s=a===n.order.asc?n.order.desc:n.order.asc;f.appController.winnersController.changeSorting(r,s)}}class g{constructor(){this.createNode(),this.addListeners()}static listenersAdded=!1;getNode(){return this.node}createNode(){this.node=(0,i.createDomElement)({classNames:[n.classes.winners]});const e=(0,i.createDomElement)({classNames:[n.classes.winnersInner]});this.node.append(e)}async updateNode(){const e=await(async()=>{const e=(0,i.createDomElement)({classNames:[n.classes.winnersInner]}),t=(0,i.createDomElement)({tag:"h2",text:`Winners (${f.appModel.winnersTotal})`,classNames:[n.classes.h3,n.classes.winnersTitle]}),r=(0,i.createDomElement)({tag:"h3",text:`Page ${f.appModel.winnersPageNumber}`,classNames:[n.classes.h4,n.classes.winnersPageNumber]}),a=await(async()=>{const e=(0,i.createDomElement)({tag:"table",classNames:[n.classes.winnersTable]}),t=(0,i.createDomElement)({tag:"thead"}),r=(0,i.createDomElement)({tag:"tr",classNames:[n.classes.winnersTableHeader]}),a=(0,i.createDomElement)({tag:"th",text:"Delete",classNames:[n.classes.winnersCell]}),s=(0,i.createDomElement)({tag:"th",text:"Number",classNames:[n.classes.winnersCell]}),o=(0,i.createDomElement)({tag:"th",text:"Car",classNames:[n.classes.winnersCell]}),d=(0,i.createDomElement)({tag:"th",text:"Name",classNames:[n.classes.winnersCell]}),u=(0,i.createDomElement)({tag:"th",text:"Wins",classNames:[n.classes.winnersCell]}),p=(0,i.createDomElement)({tag:"th",text:"Best time (seconds)",classNames:[n.classes.winnersCell]}),m=new C(n.sort.time,[n.classes.winnersSortBtn]),h=new C(n.sort.wins,[n.classes.winnersSortBtn]),g=(0,i.createDomElement)({tag:"tbody",classNames:[n.classes.winnersTableBody]});e.append(t,g),t.append(r),r.append(a,s,o,d,u,p),u.append(h),p.append(m);const b=f.appModel.currentWinners,y=await Promise.all(b.map((e=>f.appController.garageController.getCar(e.id))));return b.forEach(((e,t)=>{const r=(0,i.createDomElement)({tag:"tr"}),a=(0,i.createDomElement)({tag:"th",classNames:[n.classes.winnersCell]}),s=(0,i.createDomElement)({tag:"th",text:`${t+1}`,classNames:[n.classes.winnersCell]}),o=(0,i.createDomElement)({tag:"th",classNames:[n.classes.winnersCell]}),d=(0,i.createDomElement)({tag:"th",text:y[t].name,classNames:[n.classes.winnersCell]}),u=(0,i.createDomElement)({tag:"th",text:e.wins,classNames:[n.classes.winnersCell]}),p=(0,i.createDomElement)({tag:"th",text:e.time,classNames:[n.classes.winnersCell]}),m=l({classNames:[n.classes.iconCar,n.classes.winnersCarIcon],id:n.svgIds.car});m.setAttribute("style",`color: ${y[t].color}`);const h=(0,c.primaryBtn)({text:"⌦",classNames:[n.classes.btnDeleteCar],attr:{[n.attributeKeys.carId]:e.id}});r.append(a,s,o,d,u,p),a.append(h),o.append(m),g.append(r)})),e})(),s=d();return e.append(t,r,a,s),e})();this.node.querySelector(n.classSelectors.winnersInner).replaceWith(e)}addListeners(){g.listenersAdded||(document.addEventListener(n.customEvents.winnersUpdate,(()=>{this.updateNode()})),this.node.addEventListener("click",(e=>{this.clickHandler(e)})),g.listenersAdded=!0)}clickHandler(e){if(e.target.closest(n.classSelectors.paginationNextBtn)){const e=Math.ceil(f.appModel.winnersTotal/n.WINNERS_PAGE_LIMIT),t=f.appModel.winnersPageNumber;if(t>=e)return;return void f.appController.winnersController.changePageNumber(t+1)}if(e.target.closest(n.classSelectors.paginationPrevBtn)){const e=f.appModel.winnersPageNumber;if(e<=1)return;return void f.appController.winnersController.changePageNumber(e-1)}const t=e.target.closest(n.classSelectors.btnDeleteCar);if(t){const e=t.getAttribute(n.attributeKeys.carId);f.appController.winnersController.deleteWinner(e)}}}const b=new g,y=new class{constructor(){this.garage=u,this.winners=b,this.modal=m,this.init()}init(){const e=(0,i.createDomElement)({tag:"main",classNames:[n.classes.game]}),t=(0,i.createDomElement)({classNames:[n.classes.container,n.classes.gameInner]}),r=new h.t({buttonsText:["Garage","Winners"],tabsNames:["garage","winners"],tabsContent:[this.garage.getNode(),this.winners.getNode()]}).getNode();e.append(t),t.append(r),document.body.append(e)}};class f{static appController=a.A$;static appModel=o;static appView=y;constructor(){this.init()}init(){const{garageController:e,winnersController:t}=f.appController;t.updateCurrentWinners(),e.updateCurrentCars()}}},673:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GarageController:()=>i,garageController:()=>c});var a=r(411),n=r(153),s=r(309),o=r(358);class i{async updateCurrentCars(){const e={method:a.HTTPMethods.get,endpoint:a.endpoints.garage,queryParts:{_page:n.App.appModel.carsPageNumber,_limit:a.CARS_PAGE_LIMIT},returnData:!1},t=await s.O.fetchData(e),r=t.headers.get(a.TOTAL_COUNT_HEADER_KEY),o=await t.json();return n.App.appModel.setCarsTotal(r),n.App.appModel.setCurrentCars(o),o}async getCar(e){const t={method:a.HTTPMethods.get,endpoint:a.endpoints.garage+"/"+e,returnData:!0};return s.O.fetchData(t)}async addCars(e){const t=[];e.forEach((e=>{const r={method:a.HTTPMethods.post,endpoint:a.endpoints.garage,payload:{name:e.name,color:e.color},returnData:!1};t.push(s.O.fetchData(r))}));const r=await Promise.allSettled(t);return this.updateCurrentCars(),r}async deleteCar(e){const t={method:a.HTTPMethods.delete,endpoint:a.endpoints.garage+"/"+e,returnData:!1},r=await s.O.fetchData(t);return this.updateCurrentCars(),r}async updateCar(e,t,r){const n=await this.getCar(e);if(!n?.name)return;const o={method:a.HTTPMethods.put,endpoint:a.endpoints.garage+"/"+e,payload:{name:t,color:r},returnData:!1},i=await s.O.fetchData(o);return this.updateCurrentCars(),i}generateCars(){const e=[];for(let t=1;t<=100;t++){const t=`${a.carManufacturers[(0,o.G0)(0,a.carManufacturers.length-1)]} ${a.carPostfixes[(0,o.G0)(0,a.carPostfixes.length-1)]}`,r=(0,o.uN)();e.push({name:t,color:r})}this.addCars(e)}async changeCarEngineState(e,t){const r={method:a.HTTPMethods.patch,endpoint:a.endpoints.engine,queryParts:{id:e,status:t},returnData:!0};return s.O.fetchData(r)}async startCarEngine(e){return this.changeCarEngineState(e,a.engineStates.started)}async stopCarEngine(e){return this.changeCarEngineState(e,a.engineStates.stopped)}async setEngineToDriveMode(e){const t={method:a.HTTPMethods.patch,endpoint:a.endpoints.engine,queryParts:{id:e,status:a.engineStates.driveMode},returnData:!1};return s.O.fetchData(t)}async startRace(e){(0,o.w3)(a.customEvents.carStarted,{id:e});const t=await this.startCarEngine(e),r=a.DISTANCE/t.velocity;(0,o.w3)(a.customEvents.carMoving,{id:e,time:r});const n=t=>{t.detail===e&&(0,o.w3)(a.customEvents.carStopped,{id:e}),document.removeEventListener(a.customEvents.raceStopped,n)};try{const t=await this.setEngineToDriveMode(e);Number(t.status)===a.HTTPStatusCodes.internalServerError&&(0,o.w3)(a.customEvents.carStopped,{id:e})}catch(e){console.log(e)}document.addEventListener(a.customEvents.raceStopped,n)}async startRaces(e){let t=null;async function r(){if(t)try{const e=(await this.getCar(t.id)).name;(0,o.w3)(a.customEvents.newWinner,{name:e,time:t.time}),n.App.appController.winnersController.addWinner(t.id,(t.time/1e3).toFixed(2))}catch(e){console.log(e)}else(0,o.w3)(a.customEvents.newWinner,null)}e.forEach((async e=>{(0,o.w3)(a.customEvents.carStarted,{id:e});const n=await this.startCarEngine(e),s=a.DISTANCE/n.velocity;let i,c;(0,o.w3)(a.customEvents.carMoving,{id:e,time:s,isGlobal:!0});const l=new Promise(((t,r)=>{i=r,c=setTimeout((()=>{t({id:e,time:s})}),s),this.setEngineToDriveMode(e).then((t=>{Number(t.status)===a.HTTPStatusCodes.internalServerError&&r({id:e})})).catch()})),d=t=>{t.detail===e&&i({id:e})};document.addEventListener(a.customEvents.raceStopped,d),l.then((e=>{t||(t=e,r.bind(this)())})).catch((()=>{})).finally((()=>{clearTimeout(c),(0,o.w3)(a.customEvents.carStopped,{id:e}),document.removeEventListener(a.customEvents.raceStopped,d)}))}))}async resetRace(e,t){const r=[];if(e.forEach((async e=>{(0,o.w3)(a.customEvents.raceStopped,e);const n=await this.stopCarEngine(e);(0,o.w3)(a.customEvents.carReturn,{id:e,isGlobal:t}),r.push(n)})),t)return await Promise.all(r)}changePageNumber(e){n.App.appModel.setCarsPageNumber(e),this.updateCurrentCars()}}const c=new i},609:(e,t,r)=>{"use strict";r.r(t),r.d(t,{WinnersController:()=>o,winnersController:()=>i});var a=r(411),n=r(153),s=r(309);class o{async updateCurrentWinners(){const e={method:a.HTTPMethods.get,endpoint:a.endpoints.winners,queryParts:{_page:n.App.appModel.winnersPageNumber,_limit:a.WINNERS_PAGE_LIMIT,_sort:n.App.appModel.sortWinnersBy,_order:n.App.appModel.orderWinnersBy},returnData:!1},t=await s.O.fetchData(e),r=t.headers.get(a.TOTAL_COUNT_HEADER_KEY),o=await t.json();return n.App.appModel.setWinnersTotal(r),n.App.appModel.setCurrentWinners(o),o}async getWinner(e){const t={method:a.HTTPMethods.get,endpoint:a.endpoints.winners+"/"+e,returnData:!0};return s.O.fetchData(t)}async addWinner(e,t){const r=await this.getWinner(e);if(r?.wins)return void this.updateWinner(r,t);const n={method:a.HTTPMethods.post,endpoint:a.endpoints.winners,payload:{id:e,wins:1,time:t},returnData:!1},o=await s.O.fetchData(n);return this.updateCurrentWinners(),o}async updateWinner(e,t){const r=e.wins+1,n=e.id,o=t<e.time?t:e.time,i={method:a.HTTPMethods.put,endpoint:a.endpoints.winners+"/"+n,payload:{id:n,wins:r,time:o},returnData:!1},c=await s.O.fetchData(i);return this.updateCurrentWinners(),c}async deleteWinner(e){const t={method:a.HTTPMethods.delete,endpoint:a.endpoints.winners+"/"+e,returnData:!1},r=await s.O.fetchData(t);return this.updateCurrentWinners(),r}changeSorting(e,t){n.App.appModel.setSorting(e,t),this.updateCurrentWinners()}changePageNumber(e){n.App.appModel.setWinnersPageNumber(e),this.updateCurrentWinners()}}const i=new o},309:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var a=r(358);const n=new class{constructor(e){this.baseUrl=e}makeUrl(e,t){let r=this.baseUrl;return e&&(r+=`${e}`),t&&(r+="?"+Object.entries(t).map((([e,t])=>`${e}=${t}`)).join("&")),r}async fetchData(e){const{method:t,endpoint:r,queryParts:n,payload:s,returnData:o}=e,i=this.makeUrl(r,n),c={method:t,headers:{"Content-Type":"application/json"}};s&&(0,a.Gv)(s)&&(c.body=JSON.stringify(s));try{const e=await fetch(i,c);return o?e.ok?await e.json():null:e}catch(e){console.error("Fetch",e)}}}("http://127.0.0.1:3000")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";r(876),r(80),r(26);const e=r(153);document.addEventListener("DOMContentLoaded",(()=>{new e.App}))})()})();